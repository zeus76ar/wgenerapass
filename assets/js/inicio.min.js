function numeroGenerado(data){var datos,contenido,generados;eval('datos='+data);if(datos.info!='')alertify.alert(('Info: '+datos.info));if(datos.error==''){generados=$('#hgenerados').val();if(generados.length>0)generados+=';';generados+=datos.dato.toString();$('#hgenerados').val(generados);$('#ultimo_generado').html(datos.dato);contenido=('<p>'+datos.dato+'</p>'+$('#lista_generados').html());$('#lista_generados').html(contenido);if($('#descargar').hasClass('hidden'))
{$('#descargar').removeClass('hidden')}}else{alertify.alert(('Error: '+datos.error))}
habilitarBotones(!0)}
function validarOpciones(){var retorno=!0,texto='';if(!$('#simbolos').is(':checked')&&!$('#numeros').is(':checked')&&!$('#letras').is(':checked')){retorno=!1;texto='Debe seleccionar letras, numeros o simbolos';alertify.alert(texto)}
if($('#simbolos').is(':checked')){if(!$('#numeros').is(':checked')&&!$('#letras').is(':checked')){retorno=!1;texto='Debe seleccionar tambien letras o numeros';alertify.alert(texto)}}
return retorno}
function validarLimite()
{var generados=$('#hgenerados').val();var partes=generados.split(';');var retorno=((partes.length>=limite)?false:!0);return retorno}
function ocultarOpciones()
{var texto='<span class="negrita">Longitud:</span> '+$('#longitud').val()+'<br />'+'<span class="negrita">Incluir:</span> ';var hay_opcion=!1;if($('#numeros').is(':checked')){texto+='Numeros';hay_opcion=!0}
if($('#letras').is(':checked')){if(hay_opcion)texto+=', ';texto+='Letras';hay_opcion=!0}
if($('#simbolos').is(':checked')){if(hay_opcion)texto+=', ';texto+='Simbolos'}
$('#resumen').html(texto);$('#resumen').css('display','block');$('#borde_opciones').css('display','none');$('#reset').removeClass('hidden')}
function habilitarBotones(opcion)
{var atributo='disabled';if(opcion)
{$('#generar').removeAttr(atributo);$('#reset').removeAttr(atributo)}
else{$('#generar').attr(atributo,1);$('#reset').attr(atributo,1)}}
var limite=20;$(document).ready(function(){$('#frmnumeros').submit(function(event){event.preventDefault();$('#longitud').val(parseInt($('#longitud').val()));if(!validarLimite())
{var texto='Limite de passwords alcanzado: '+limite;alertify.alert(texto);return}
if(validarOpciones())
{ocultarOpciones();habilitarBotones(!1);enviarDatos('frmnumeros',numeroGenerado)}});$('#reset').click(function(){$('#longitud').val(4);$('#numeros').attr('checked',!1);$('#letras').attr('checked',!1);$('#simbolos').attr('checked',!1);$('#ultimo_generado').html('&nbsp;');$('#lista_generados').html('');$('#resumen').css('display','none');$('#borde_opciones').css('display','block');$('#reset').addClass('hidden')});$('#descargar').click(function(){$('#numeros_gen').val($('#lista_generados').html());$('#frmgenerados').submit()})})